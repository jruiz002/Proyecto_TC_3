# Máquina de Turing Reconocedora
# Lenguaje: {a^n b^n | n ≥ 1}
# Descripción: Reconoce cadenas que tienen el mismo número de 'a's seguidas del mismo número de 'b's

mt:
  states: [q0, q1, q2, q3, qf, qr]
  input_alphabet: [a, b]
  tape_alphabet: [a, b, B, X, Y]
  initial_state: q0
  accept_states: [qf]
  transitions:
    # Desde q0: marcar primera 'a' con 'X' y buscar primera 'b'
    - state: q0
      read: [a]
      write: [X]
      move: R
      next: q1
    
    # Desde q0: si encontramos 'Y' (b ya marcada), ir al final
    - state: q0
      read: [Y]
      write: [Y]
      move: R
      next: q0
    
    # Desde q0: si encontramos B (final de cadena con todas marcadas), aceptar
    - state: q0
      read: [B]
      write: [B]
      move: R
      next: qf
    
    # Desde q1: avanzar sobre 'a's sin marcar
    - state: q1
      read: [a]
      write: [a]
      move: R
      next: q1
    
    # Desde q1: avanzar sobre 'Y's (b's ya marcadas)
    - state: q1
      read: [Y]
      write: [Y]
      move: R
      next: q1
    
    # Desde q1: marcar primera 'b' con 'Y' y regresar
    - state: q1
      read: [b]
      write: [Y]
      move: L
      next: q2
    
    # Desde q2: regresar al inicio pasando por 'Y's
    - state: q2
      read: [Y]
      write: [Y]
      move: L
      next: q2
    
    # Desde q2: regresar al inicio pasando por 'a's
    - state: q2
      read: [a]
      write: [a]
      move: L
      next: q2
    
    # Desde q2: encontrar 'X' y continuar el proceso
    - state: q2
      read: [X]
      write: [X]
      move: R
      next: q0
    
    # Estados de rechazo implícitos (cualquier transición no definida lleva al rechazo)
    
  inputs:
    - "ab"           # Aceptada: a^1 b^1
    - "aabb"         # Aceptada: a^2 b^2  
    - "aaabbb"       # Aceptada: a^3 b^3
    - "aaaabbbb"     # Aceptada: a^4 b^4
    - "aaaaabbbbb"   # Aceptada: a^5 b^5
    - "aab"          # Rechazada: a^2 b^1
    - "abb"          # Rechazada: a^1 b^2
    - "abab"         # Rechazada: no es de la forma a^n b^n
    - "baba"         # Rechazada: empieza con b
    - "aaabbbaa"     # Rechazada: tiene a's después de b's